(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,n){t.exports={tasksPagesLinks:"ListFooter_tasksPagesLinks__2ppX9",filter_buttons:"ListFooter_filter_buttons__V_uPo",filter_active:"ListFooter_filter_active__1bKZt",pageLink:"ListFooter_pageLink__22oiy",active:"ListFooter_active__116Vm"}},20:function(t,e,n){t.exports={app:"App_app__3Uwog",app_title:"App_app_title___CSMS",active:"App_active__2jTm6",app_header:"App_app_header__2ML7u",app_header_navigation:"App_app_header_navigation__2sBXL",app_lists:"App_app_lists__XJiJ5"}},22:function(t,e,n){t.exports={list_header_title__input:"ListTitle_list_header_title__input__3hsj1",error:"ListTitle_error__3wcGy",delete_button:"ListTitle_delete_button__3fYOy",list_header_title:"ListTitle_list_header_title__2xian"}},27:function(t,e,n){t.exports={todoList_task:"ListTask_todoList_task__3IMxd",taskIsDone:"ListTask_taskIsDone__2i1Al",delete_button:"ListTask_delete_button__2ymOr"}},30:function(t,e,n){t.exports={todoList:"TodoList_todoList__XmGvD",todoList_main:"TodoList_todoList_main__1kdBr"}},31:function(t,e,n){t.exports={list_header:"ListHeader_list_header__zEOiY",list_header_add_form:"ListHeader_list_header_add_form__24FzJ"}},32:function(t,e,n){t.exports={newTaskForm:"AddItemForm_newTaskForm__27Yum",error:"AddItemForm_error__3PDJ1"}},36:function(t,e,n){t.exports={Middle:"TaskPriority_Middle__1hwuy",Low:"TaskPriority_Low__3JO7V",High:"TaskPriority_High__3FfI-",Urgent:"TaskPriority_Urgent__2y1eq",Later:"TaskPriority_Later__NpmW_"}},51:function(t,e,n){t.exports={todoList_tasks:"ListTasks_todoList_tasks__3hZhJ"}},52:function(t,e,n){t.exports={error:"TaskTitle_error__3WKI3"}},53:function(t,e,n){t.exports=n.p+"static/media/book.6d8795b6.png"},54:function(t,e,n){t.exports={error404:"Error404_error404__1VnlC"}},58:function(t,e,n){t.exports=n(86)},86:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(24),i=n.n(s),o=n(8),l=n(19),c=n(5),u=n(6),p=n(9),d=n(7),f=n(10),m=n(20),h=n.n(m),g=n(18),k=n(30),_=n.n(k),b=n(31),v=n.n(b),E=n(32),O=n.n(E),y=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={inputError:!1,itemTitle:""},n.setItemTitle=function(t){n.state.inputError&&n.setState({inputError:!1}),n.setState({itemTitle:t.currentTarget.value},function(){var t=n.state.itemTitle;(""===t||t.length>100||t.match(/%/))&&n.setState({inputError:!0})})},n.addItem=function(){""===n.state.itemTitle?n.setState({inputError:!0}):n.state.inputError||(n.props.addItem(n.state.itemTitle,n.props.listId),n.setState({itemTitle:""}))},n.actionOnBlur=function(){n.state.inputError&&n.state.itemTitle.length<=100&&n.setState({inputError:!1})},n.actionOnKey=function(t){"Enter"===t.key&&n.addItem(),27===t.keyCode&&n.setState({itemTitle:"",inputError:!1})},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:O.a.newTaskForm},r.a.createElement("input",{className:this.state.inputError?O.a.error:"",onChange:this.setItemTitle,onKeyDown:this.actionOnKey,onBlur:this.actionOnBlur,autoFocus:!0,type:"text",placeholder:this.props.placeholder,value:this.state.itemTitle}),r.a.createElement("button",{onClick:this.addItem},"Add"))}}]),e}(r.a.Component),T=n(22),C=n.n(T),L=n(33),I=n.n(L),j=n(48),P=n(57),w=n(17),A=n(49);function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}var x=n.n(A).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"5deaa5a9-bfea-4e80-bac8-d313181506e0"}}),D=function(){return x.get("")},N=function(t,e){return x.put("/".concat(t),{title:e})},F=function(t){return x.post("",{title:t})},V=function(t){return x.delete("/".concat(t))},M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return x.get("/".concat(t,"/tasks?count=").concat(e))},B=function(t){return x.get("/".concat(t,"/tasks?count=100"))},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return x.get("/".concat(t,"/tasks?count=10&page=").concat(e))},U=function(t,e){return x.post("/".concat(t,"/tasks"),{title:e})},H=function(t,e,n){return x.put("/".concat(t,"/tasks/").concat(e),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){Object(w.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n))},R=function(t,e){return x.delete("/".concat(t,"/tasks/").concat(e))};function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(n,!0).forEach(function(e){Object(w.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var X={lists:[],listsProgress:{listsLoading:!1,tasksLoading:!1},maxListsCount:10},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,e=arguments.length>1?arguments[1]:void 0,n=10*(e.page-1)+1;switch(e.type){case z:return G({},t,{lists:e.lists.map(function(t){return t.tasks?G({},t,{page:1,countOnPage:10,filterValue:"All",footerProcess:!1}):G({},t,{page:1,countOnPage:10,filterValue:"All",tasks:[],footerProcess:!1})})});case q:var a=G({},e.list,{page:1,countOnPage:10,filterValue:"All",tasks:[]});return G({},t,{lists:[a].concat(Object(P.a)(t.lists))});case Q:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{title:e.title}):t})});case et:return G({},t,{lists:t.lists.filter(function(t){return t.id!==e.listId})});case W:return G({},t,{listsProgress:G({},t.listsProgress,{listsLoading:e.value})});case $:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,Object(w.a)({},e.process,e.value)):t})});case nt:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{filterValue:e.value}):t})});case st:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{totalCount:e.totalCount,tasks:e.tasks?e.tasks.filter(function(t,e){return e<10}).map(function(t,e){return G({},t,{renderIndex:e+1})}):[]}):t})});case it:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{totalCount:e.totalCount?e.totalCount:t.totalCount,page:e.page,tasks:e.tasks.map(function(t,e){return G({},t,{renderIndex:n+e})})}):t})});case ct:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{totalCount:t.totalCount-1,tasks:t.tasks.filter(function(t){return t.id!==e.taskId}).map(function(t,e){return G({},t,{renderIndex:n+e})})}):t})});case ut:return G({},t,{lists:t.lists.map(function(t){return t.id===e.task.todoListId?G({},t,{tasks:t.tasks.map(function(t){return t.id===e.task.id?G({},t,{},e.task):t})}):t})});case pt:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{tasks:t.tasks.map(function(t){return t.id===e.taskId?G({},t,Object(w.a)({},e.process,e.value)):t})}):t})});case ft:var r=e.tasks.filter(function(t){return t.status===e.status}).length;return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{page:e.page,totalCount:r,generalCount:e.tasks.length,tasks:e.tasks.filter(function(t){return t.status===e.status}).map(function(t,e){return G({},t,{renderIndex:e+1})}).filter(function(t,n){return n>=10*(e.page-1)&&n<10*e.page})}):t})});case ht:return G({},t,{lists:t.lists.map(function(t){return t.id===e.listId?G({},t,{totalCount:t.totalCount-1,generalCount:t.generalCount-1,tasks:t.tasks.filter(function(t){return t.id!==e.taskId}).map(function(t,e){return G({},t,{renderIndex:n+e})})}):t})});default:return t}},z="RESTORE-LISTS",W="LIST_IS_LOADING",Z=function(t){return{type:W,value:t}},q="ADD_LIST",Q="UPDATE_LIST_TITLE",$="LIST_IN_PROCESS",tt=function(t,e,n){return{type:$,listId:t,process:e,value:n}},et="DELETE_LIST",nt="SET_FILTER_VALUE",at=function(t,e){return{type:nt,listId:t,value:e}},rt=function(t,e){return function(){var n=Object(j.a)(I.a.mark(function n(a){return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a(at(t,e));case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},st="RESTORE_TASKS",it="SET_TASKS_PAGE",ot=function(t,e,n,a){return{type:it,listId:t,page:e,tasks:n,totalCount:a}},lt=function(t,e){return function(n){return K(t,e).then(function(a){var r=a.data,s=r.items,i=r.totalCount;n(ot(t,e,s,i))})}},ct="DELETE_TASK",ut="UPDATE_TASK",pt="TASK_IN_PROCESS",dt=function(t,e,n,a){return{type:pt,listId:t,taskId:e,process:n,value:a}},ft="SET_FLTR_TASKS_PAGE",mt=function(t,e,n,a){return{type:ft,listId:t,page:e,tasks:n,status:a}},ht="DELETE_FLTR_TASK",gt=function(t,e,n){return function(a){return B(t).then(function(r){var s=r.data.items;a(mt(t,e,s,n))})}},kt=n(26);function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}var bt=function(t){var e=t.height,n=t.width,a=t.fill,s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(n,!0).forEach(function(e){Object(w.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},Object(kt.a)(t,["height","width","fill"]),{width:n||(!n&&e?3.65*+e.slice(0,e.indexOf("p"))+"px":n||e?void 0:"252px"),height:e||(!e&&n?.27*+n.slice(0,n.indexOf("p"))+"px":e||n?void 0:"69px")});return r.a.createElement("svg",{svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.0",viewBox:"0 0 128 35",space:"preserve",style:s},r.a.createElement("g",null,r.a.createElement("circle",{fill:a,cx:"17.5",cy:"17.5",r:"17.5"}),r.a.createElement("animate",{attributeName:"opacity",dur:"900ms",begin:"0s",repeatCount:"indefinite",keyTimes:"0;0.167;0.5;0.668;1",values:"0.3;1;1;0.3;0.3"})),r.a.createElement("g",null,r.a.createElement("circle",{fill:a,cx:"110.5",cy:"17.5",r:"17.5"}),r.a.createElement("animate",{attributeName:"opacity",dur:"900ms",begin:"0s",repeatCount:"indefinite",keyTimes:"0;0.334;0.5;0.835;1",values:"0.3;0.3;1;1;0.3"})),r.a.createElement("g",null,r.a.createElement("circle",{fill:a,cx:"64",cy:"17.5",r:"17.5"}),r.a.createElement("animate",{attributeName:"opacity",dur:"900ms",begin:"0s",repeatCount:"indefinite",keyTimes:"0;0.167;0.334;0.668;0.835;1",values:"0.3;0.3;1;1;0.3;0.3"})))},vt=n(14),Et=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:"",inputError:!1},n.deleteList=function(){n.props.deleteList(n.props.listId),n.props.history.push("/")},n.updateListTitle=function(t){t.match(/%/)||(n.props.updateListTitle(n.props.listId,t),"/"!==n.props.history.location.pathname&&n.props.history.push("/".concat(t.replace(/\s|\?|#/g,"-"))))},n.setEditMode=function(){return n.setState({editMode:!0,title:n.props.title})},n.setDisplayMode=function(){n.state.inputError&&n.setState({inputError:!1}),n.setState({editMode:!1})},n.editListTitle=function(t){var e=t.currentTarget.value;n.state.inputError&&n.setState({inputError:!1}),""===e.trim()||e.length>100||e.match(/%/)?n.setState({title:e,inputError:!0}):n.setState({title:e})},n.setTitleOnKey=function(t){var e=t.currentTarget.value;"Enter"!==t.key||n.state.inputError||(n.setDisplayMode(),n.updateListTitle(e)),27===t.keyCode&&(n.setDisplayMode(),n.state.inputError&&n.setState({inputError:!1}))},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return this.state.editMode?r.a.createElement("div",{className:C.a.list_header_title__input},r.a.createElement("input",{type:"text",value:this.state.title,className:this.state.inputError?C.a.error:"",onChange:this.editListTitle,autoFocus:!0,onBlur:this.setDisplayMode,onKeyDown:this.setTitleOnKey}),r.a.createElement("button",{className:C.a.delete_button,onClick:this.deleteList},r.a.createElement("i",{className:"fa fa-close"}))):r.a.createElement("div",{className:C.a.list_header_title},r.a.createElement("span",{onClick:this.setEditMode},this.props.title," \xa0"),r.a.createElement("button",{className:C.a.delete_button,onClick:this.deleteList,disabled:this.props.listDeliting},r.a.createElement("i",{className:"fa fa-close"})),(this.props.listDeliting||this.props.titleUpdating)&&r.a.createElement(bt,{fill:"rgb(143, 59, 26)",height:"10px",position:"absolute",bottom:"-12px",right:"50%"}))}}]),e}(r.a.Component),Ot=Object(vt.compose)(Object(o.b)(null,{deleteList:function(t){return function(e){e(tt(t,"listDeliting",!0)),V(t).then(function(){e(function(t){return{type:et,listId:t}}(t)),e(tt(t,"listDeliting",!1))})}},updateListTitle:function(t,e){return function(n){n(tt(t,"titleUpdating",!0)),N(t,e).then(function(a){0===a.data.resultCode&&(n(function(t,e){return{type:Q,listId:t,title:e}}(t,e)),n(tt(t,"titleUpdating",!1)))})}}}),g.f)(Et),yt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={maxTasksCount:33},n.addTask=function(t){var e=n.props,a=e.listId,r=e.filterValue,s=e.taskIsAdding;"Completed"!==r&&"All"!==r||s||n.props.addTask(a,t),"Active"!==r||s||n.props.addTaskActive(a,t)},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.listId,n=t.title,a=t.page,s=t.totalCount,i=t.filterValue,o=t.generalCount,l=t.listDeliting,c=t.titleUpdating,u=t.taskIsAdding,p=this.state.maxTasksCount,d="All"===i?s:o;return r.a.createElement("div",{className:v.a.list_header},r.a.createElement(Ot,{listId:e,title:n,page:a,listDeliting:l,titleUpdating:c}),d<p&&r.a.createElement("div",{className:v.a.list_header_add_form},r.a.createElement(y,{placeholder:"Add new task",listId:e,addItem:this.addTask}),u&&r.a.createElement(bt,{fill:"rgb(143, 59, 26)",height:"8px",position:"absolute",right:"-3px",top:"5px"})))}}]),e}(r.a.Component),Tt={addTask:function(t,e){return function(n){return n(tt(t,"taskIsAdding",!0)),U(t,e).then(function(e){0===e.data.resultCode&&n(lt(t,1)).then(function(){n(at(t,"All")),n(tt(t,"taskIsAdding",!1))})})}},addTaskActive:function(t,e){return function(n){return n(tt(t,"taskIsAdding",!0)),U(t,e).then(function(e){0===e.data.resultCode&&B(t).then(function(e){var a=e.data.items;n(mt(t,1,a,0)),n(tt(t,"taskIsAdding",!1))})})}},setTasksPage:ot,setFilterValue:rt,setAllTasksPage:lt},Ct=Object(o.b)(null,Tt)(yt),Lt=n(51),It=n.n(Lt),jt=n(27),Pt=n.n(jt),wt=n(21),At=n(36),St=n.n(At),xt=function(t){var e=Object(a.useState)(!1),n=Object(wt.a)(e,2),s=n[0],i=n[1],o=["Low","Middle","High","Urgent","Later"],l=o.map(function(t){return r.a.createElement("option",{className:St.a[t],key:t},t)}),c=function(){return o[t.priority]},u=function(){return St.a[o[t.priority]]},p=function(){return i(!1)};return s?r.a.createElement("select",{defaultValue:c(),className:u(),onChange:function(e){var n=o.findIndex(function(t){return t===e.currentTarget.value});t.updateTask({priority:n}),p()},onBlur:p,onKeyDown:function(t){27===t.keyCode&&p()},autoFocus:!0}," ",l," "):r.a.createElement("span",{onClick:function(){return i(!0)},className:u()},c()," \xa0")},Dt=n(52),Nt=n.n(Dt),Ft=function(t){var e=Object(a.useState)(!1),n=Object(wt.a)(e,2),s=n[0],i=n[1],o=Object(a.useState)(""),l=Object(wt.a)(o,2),c=l[0],u=l[1],p=Object(a.useState)(!1),d=Object(wt.a)(p,2),f=d[0],m=d[1],h=function(){f&&m(!1),i(!1)};return s?r.a.createElement("input",{type:"text",value:c,className:f?Nt.a.error:"",onChange:function(t){var e=t.currentTarget.value;f&&m(!1),""===e.trim()||e.length>100?(u(e),m(!0)):u(e)},autoFocus:!0,onBlur:h,onKeyDown:function(e){var n=e.currentTarget.value;"Enter"!==e.key||f||(t.updateTask({title:n}),h()),27===e.keyCode&&(h(),f&&m(!1))}}):r.a.createElement("span",{onClick:function(){i(!0),u(t.title)}},t.title,", ")},Vt=Object(o.b)(null,{updateTask:function(t,e,n){return function(a,r){var s=r().lists.find(function(e){return e.id===t}),i=s.page,o=s.filterValue,l=s.tasks.length,c=G({},s.tasks.find(function(t){return t.id===e}),{},n);a(dt(t,e,"taskInProcess",!0)),H(t,e,c).then(function(e){var r;0===e.data.resultCode&&("All"===o?a((r=e.data.data.item,{type:ut,task:r})):B(t).then(function(e){if(!e.data.error){var r=e.data.items,s="Completed"===o?1:0;1===l&&1!==i&&void 0!==n.status?a(mt(t,i-1,r,s)):1===l&&1===i&&void 0!==n.status?(a(lt(t,1)),a(at(t,"All"))):a(mt(t,i,r,s))}}))}).then(function(){return a(dt(t,e,"taskInProcess",!1))})}},delTaskFromPage:function(t,e){return function(n,a){var r=a().lists.find(function(e){return e.id===t}),s=r.page,i=r.filterValue,o=r.totalCount,l=r.countOnPage,c=r.tasks.length,u=o?Math.ceil(o/l):1;n(dt(t,e,"taskInProcess",!0)),R(t,e).then(function(a){0===a.data.resultCode&&(10===c&&s<u&&n("All"===i?lt(t,s):gt(t,s,"Completed"===i?1:0)),1===c&&1!==s&&n("All"===i?lt(t,s-1):gt(t,s-1,"Completed"===i?1:0)),1===c&&1===s&&"All"!==i&&n(lt(t,1)).then(function(){return n(at(t,"All"))}),n("All"===i?function(t,e,n){return{type:ct,listId:t,taskId:e,page:n}}(t,e,s):function(t,e,n){return{type:ht,listId:t,taskId:e,page:n}}(t,e,s)))}).then(function(){return n(dt(t,e,"taskInProcess",!1))})}}})(function(t){var e=t.task,n=e.id,a=e.status,s=e.renderIndex,i=e.priority,o=e.title,l=e.taskInProcess,c=t.listId,u=function(e){return t.updateTask(c,n,e)};return r.a.createElement("div",{className:Pt.a.todoList_task},r.a.createElement("div",{className:a?Pt.a.taskIsDone:""},r.a.createElement("input",{onChange:function(t){var e=t.currentTarget.checked?1:0;u({status:e})},type:"checkbox",checked:a}),r.a.createElement("span",null," ",s," - "),r.a.createElement(Ft,{title:o,updateTask:u}),r.a.createElement(xt,{priority:i,updateTask:u}),r.a.createElement("button",{className:Pt.a.delete_button,onClick:function(){return t.delTaskFromPage(c,n)},disabled:l},r.a.createElement("i",{className:"fa fa-close"})),l&&r.a.createElement(bt,{fill:"rgb(143, 59, 26)",height:"8px"})))}),Mt=function(t){var e=t.tasks,n=t.countOnPage,a=Object(kt.a)(t,["tasks","countOnPage"]),s=e.length,i=e.filter(function(t,e){return e<n}).map(function(t){return r.a.createElement(Vt,Object.assign({key:t.id,task:t,tasksLength:s},a))});return r.a.createElement("div",{className:It.a.todoList_Tasks},i)},Bt=n(13),Kt=n.n(Bt),Ut=function(t){var e=t.isHidden,n=t.inProcess,a=t.filterValue,s=t.pagesCount,i=t.pagesLinks,o=t.hideOnButtonClick,l=t.showOnButtonClick,c=t.getTasks,u="All"===a?Kt.a.filter_active:"",p="Active"===a?Kt.a.filter_active:"",d="Completed"===a?Kt.a.filter_active:"";return r.a.createElement("div",{className:Kt.a.todoList_footer},s>1&&r.a.createElement("div",{className:Kt.a.tasksPagesLinks},i),!e&&r.a.createElement("div",{className:Kt.a.filter_buttons},r.a.createElement("button",{onClick:function(){return c("All")},className:u,disabled:n},"All"),r.a.createElement("button",{onClick:function(){return c("Completed")},className:d,disabled:n},"Completed"),r.a.createElement("button",{onClick:function(){return c("Active")},className:p,disabled:n},"Active"),n&&r.a.createElement(bt,{fill:"rgb(143, 59, 26)",height:"10px",position:"absolute",top:"5px",right:"5px"})),!e&&r.a.createElement("span",{onClick:o},"Hide"),e&&r.a.createElement("span",{onClick:l},"Show"))},Ht=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).state={isHidden:!1,inProcess:!1},n.showOnButtonClick=function(){n.setState({isHidden:!1})},n.hideOnButtonClick=function(){n.setState({isHidden:!0})},n.getTasks=function(t){var e=n.props,a=e.listId;(0,e.setFilterValue)(a,t).then(function(){return n.setTasksPage(1)})},n.setTasksPage=function(t){var e=n.props,a=e.listId,r=e.setFilteredPage,s=e.setAllTasksPage;switch(n.setState({inProcess:!0}),n.props.filterValue){case"Active":r(a,t,0).then(function(){return n.setState({inProcess:!1})});break;case"Completed":r(a,t,1).then(function(){return n.setState({inProcess:!1})});break;default:s(a,t),n.setState({inProcess:!1})}},n.getPagesCount=function(){var t=n.props,e=t.totalCount,a=t.countOnPage;return e?Math.ceil(e/a):1},n.getPagesLinks=function(){for(var t=n.props.page,e=[],a=function(a){var s=r.a.createElement("span",{className:a===t?"".concat(Kt.a.pageLink," ").concat(Kt.a.active):Kt.a.pageLink,style:{cursor:"pointer"},key:a,onClick:function(){return n.setTasksPage(a)}},a);e.push(s)},s=1;s<=n.getPagesCount();s++)a(s);return e},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(Ut,{isHidden:this.state.isHidden,inProcess:this.state.inProcess,filterValue:this.props.filterValue,pagesCount:this.getPagesCount(),pagesLinks:this.getPagesLinks(),getTasks:this.getTasks,hideOnButtonClick:this.hideOnButtonClick,showOnButtonClick:this.showOnButtonClick})}}]),e}(r.a.Component),Rt={setTasksPage:ot,setFilterValue:rt,setFilteredPage:gt,setAllTasksPage:lt},Jt=Object(o.b)(null,Rt)(Ht),Gt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).render=function(){var t=n.props.list,e=t.title,a=t.id,s=t.page,i=t.totalCount,o=t.countOnPage,l=t.tasks,c=t.generalCount,u=t.listDeliting,p=t.titleUpdating,d=t.taskIsAdding,f=t.filterValue;return r.a.createElement("div",{className:_.a.todoList},r.a.createElement("section",{className:_.a.todoList_main},r.a.createElement(Ct,{title:e,listId:a,filterValue:f,page:s,generalCount:c,totalCount:i,listDeliting:u,titleUpdating:p,taskIsAdding:d}),r.a.createElement(Mt,{tasks:l,listId:a,page:s,countOnPage:o,filterValue:f})),r.a.createElement(Jt,{listId:a,page:s,filterValue:f,countOnPage:o,totalCount:i}))},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.restoreTasks(this.props.list.id)}}]),e}(r.a.Component),Xt=n(53),Yt=n.n(Xt),zt=n(54),Wt=n.n(zt),Zt=Object(g.f)(function(t){return r.a.createElement("div",{className:Wt.a.error404},r.a.createElement("h3",null,"No match for ",r.a.createElement("code",null,'"',t.location.pathname,'"'),". Please, check URL."))}),qt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).addList=function(t){t.match(/%/)||(n.props.addList(t),n.props.history.push("/"))},n.restoreTasks=function(t){return n.props.restoreTasks(t)},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.restoreLists()}},{key:"render",value:function(){var t=this,e=this.props.lists.map(function(e){var n=e.title.replace(/\s|\?|#/g,"-");return r.a.createElement(g.a,{path:"/".concat(n),exact:!0,key:e.id,render:function(){return r.a.createElement(Gt,{list:e,key:e.id,restoreTasks:t.restoreTasks})}})}),n=this.props.lists.map(function(e){return r.a.createElement(Gt,{list:e,key:e.id,restoreTasks:t.restoreTasks})}),a=this.props.lists.map(function(t){var e=t.title.replace(/\s|\?|#/g,"-");return r.a.createElement("li",{key:t.id},r.a.createElement(l.b,{to:"/".concat(e)},t.title))});return r.a.createElement("div",{className:h.a.app},r.a.createElement("div",{className:h.a.app_header},this.props.listsLoading&&r.a.createElement(bt,{position:"absolute",height:"12px",top:"1.75em",right:"34%",fill:"white"}),r.a.createElement(l.b,{to:"/",exact:!0,className:h.a.app_title},r.a.createElement("h2",null,r.a.createElement("img",{src:Yt.a,alt:"book",className:h.a.app_header_icon}),"Tasks Organizer")),this.props.lists.length<this.props.maxListsCount&&r.a.createElement(y,{addItem:this.addList,placeholder:"Add list"})),r.a.createElement("nav",{className:h.a.app_header_navigation},r.a.createElement("ul",null,a)),r.a.createElement("div",{className:h.a.app_lists},r.a.createElement(g.c,null,e,r.a.createElement(g.a,{path:"/",exact:!0},n),r.a.createElement(g.a,{component:Zt}))))}}]),e}(r.a.Component),Qt=Object(vt.compose)(Object(o.b)(function(t){return{lists:t.lists,listsLoading:t.listsProgress.listsLoading,maxListsCount:t.maxListsCount}},{restoreLists:function(){return function(t){t(Z(!0)),D().then(function(e){var n;t((n=e.data,{type:z,lists:n})),t(Z(!1))})}},restoreTasks:function(t){return function(e){M(t).then(function(n){e(function(t,e,n){return{type:st,listId:t,tasks:e,totalCount:n}}(t,n.data.items,n.data.totalCount))})}},addList:function(t){return function(e){e(Z(!0)),F(t).then(function(t){var n;e((n=t.data.data.item,{type:q,list:n})),e(Z(!1))})}}}),g.f)(qt),$t=n(55),te=n(56),ee=Object(vt.createStore)(Y,Object($t.composeWithDevTools)(Object(vt.applyMiddleware)(te.a)));i.a.render(r.a.createElement(l.a,null,r.a.createElement(o.a,{store:ee},r.a.createElement(Qt,null))),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.8b799827.chunk.js.map